<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

<link rel="stylesheet" type="text/css" href="css/style.css">
<style type="text/css">
    
    label{
        font-family: Times New Roman;
        font-weight: bold;
        font-size: 20px;
    }
    .login_part .login_part_text, .login_part .login_part_form {
        padding: 80px 70px;
        height: 600px;
        display: table;
    }
    .login_part .login_part_form .form-control {
  border: 0px solid transparent;
  border-bottom: 1px solid #dddddd;
  border-radius: 0;
}

.col-12, .col,
 .col-sm-12, .col-sm,
 .col-md-12, .col-md,
 .col-lg-12, .col-lg,
 .col-xl-12, .col-xl,
.col-xl-auto {
  position: relative;
  width: 100%;
  min-height: 1px;
  padding-right: 15px;
  padding-left: 15px; }
    .order_box {
  background: #f4f4f4;
  padding: 30px;
}
.order_box .btn_3 {
  display: block;
  line-height: 38px;
  text-transform: uppercase;
  text-align: center;
}
.login_part .login_part_text .login_part_text_iner, .login_part .login_part_text .login_part_form_iner, .login_part .login_part_form .login_part_text_iner, .login_part .login_part_form .login_part_form_iner {
  display: table-cell;
  vertical-align: middle;
}
.login_part .login_part_form h3 {
  font-size: 26px;
  line-height: 36px;
  font-weight: 700;
  margin-bottom: 80px;
}
    .row {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  margin-right: -15px;
  margin-left: -15px; }

.review_box .contact_form {
  margin-top: 15px;
}
.login_part .form-group .btn_3 {
  display: block;
  width: 100%;
  margin: 30px 0 17px;
}
.btn_3:hover {
  background-color: red;
  color: #fff;
}
.btn_3 {
  display: inline-block;
  padding: 9px 42px;
  border-radius: 50px;
  background-color: #2f7dfc;
  border: 1px solid #f4f4f4;
  font-size: 15px;
  font-weight: 700;
  color: #fff;
  box-shadow: -1.717px 8.835px 29.76px 2.24px rgba(255, 51, 104, 0.18);
  text-transform: uppercase;
  font-weight: 400;
  border: 1px solid #2f7dfc;
  -webkit-transition: 0.5s;
  transition: 0.5s;
}
 .form-group input {
  border: 1px solid #eeeeee;
  height: 40px;
  border-radius: 3px;
  font-size: 14px;
  font-family: "Roboto", sans-serif;
  color: #797979;
  font-weight: normal;
}
input:hover,
input:focus {
  outline: none !important;
}
input {
  height: 50px;
  width: 100%;
  padding-left: 25px;
  border: 0px solid transparent;
  background-color: #fff;
}
.p_star {
  display: inline-block;
  position: relative;
}

/* line 1518, /Applications/MAMP/htdocs/palash/cl/august 2019/202. Shop/202 shop html/sass/_product.scss */
.p_star input {
  background: #fff;
}

/* line 1525, /Applications/MAMP/htdocs/palash/cl/august 2019/202. Shop/202 shop html/sass/_product.scss */
.p_star input:focus + .placeholder {
  display: none;
}


/* line 1529, /Applications/MAMP/htdocs/palash/cl/august 2019/202. Shop/202 shop html/sass/_product.scss */
.p_star .placeholder {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  left: 30px;
  z-index: 1;
}

/* line 1537, /Applications/MAMP/htdocs/palash/cl/august 2019/202. Shop/202 shop html/sass/_product.scss */
.p_star .placeholder::before {
  content: attr(data-placeholder);
  color: #777;
}

/* line 1542, /Applications/MAMP/htdocs/palash/cl/august 2019/202. Shop/202 shop html/sass/_product.scss */
.p_star .placeholder::after {
  content: " *";
  color: tomato;
}
</style>

<!-- this meta viewport is required for BOLT //-->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" >
<!-- BOLT Sandbox/test //-->
<script id="bolt" src="https://sboxcheckout-static.citruspay.com/bolt/run/bolt.min.js" bolt-
color="e34524" bolt-logo="http://boltiswatching.com/wp-content/uploads/2015/09/Bolt-Logo-e14421724859591.png"></script>
</head>
<body>
       
    <center>
        <section class="login_part section_padding">
        <div class="container">

            <div class="row align-items-center">
                <div class="col-lg-12 col-md-12">
                    <div class="login_part_form">
                        <div class="login_part_form_iner">
                            <label><h1><u style="color: blue;">Payment Details</u></h1></label><br><br>
                            
                            <form class="row contact_form order_box" action="#" id="payment_form">                            
                            <input type="hidden" class="form-control" id="udf5" name="udf5" value="BOLT_KIT_NODE_JS">
                            <input type="hidden" id="surl" name="surl" value="http://localhost:5000/response.html" >
                            <input type="hidden" id="furl" name="furl" value="http://localhost:5000/response.html" >
                            <input type="hidden" id="key" name="key" placeholder="Merchant Key" value="PQ9A1EG5">
                            <input type="hidden" id="salt" name="salt" placeholder="Merchant Salt" value="TU8OwOc6zU">
                            
                            <table width="1000vh">
                                <th></th>    <th></th>
                                    <tr><td class="col-md-12 form-group p_star">
                                    <label>Transaction/Order ID  </label></td>
                                    <td>
                                    <input type="text" class="form-control" id="txnid" name="txnid" placeholder="Transaction/Order ID" value="<%= orderid %>" disabled></td></tr>
                                
                                 <tr><td class="col-md-12 form-group p_star">
                                    <label>Amount  </label></td>
                                    <td>
                                    <input type="text" class="form-control" id="amount" name="amount" placeholder="Amount" value="<%=currentUser.totalPrice%>" disabled>
                                </td></tr>

                                <tr><td class="col-md-12 form-group p_star">
                                    <label>Product Info </label></td>
                                    <td>
                                    <input type="text" id="pinfo" class="form-control" name="pinfo" placeholder="Product Info" value="P01,P02" >
                                </td></tr>

                                <tr><td class="col-md-12 form-group p_star">
                                    <label>First Name </label></td>
                                    <td>
                                    <input type="text" id="fname" class="form-control" name="fname" placeholder="First Name" value="<%=currentUser.fname%>" >
                                </td></tr>

                                <tr><td class="col-md-12 form-group p_star">
                                    <label>Email ID </label></td>
                                    <td>
                                    <input type="text" id="email" class="form-control" name="email" placeholder="Email ID" value="<%=currentUser.email%>">
                                </td></tr>

                                <tr><td class="col-md-12 form-group p_star">    
                                    <label>Mobile Number </label></td>
                                    <td>
                                    <input type="text" id="mobile" class="form-control" name="mobile" placeholder="Mobile/Cell Number" value="7405428121">
                                </td></tr>
                                <div class="col-md-12 form-group p_star">
                                    <input type="hidden" id="hash" name="hash" placeholder="Hash" value=""  disabled="disabled" />
                                </div>
                                <div id="alertinfo" class="dv"></div>
                                
                                <tr><td colspan="2" align="center"> 
                                    <div class="col-md-12 form-group p_star">
                                     <button type="submit" value="Pay" onclick="launchBOLT(); return false;" class="btn_3" width="100%">
                                        Pay
                                    </button></div></td>
                                </tr>

                                <tr><td></td>
                                    <td align="right"><a href="index">Back To Home</a></td>
                                </tr>
                        </table>
                            </form>
                        
                        </div>
                    </div>
                </div>                
            </div>
        </div>
    </section>
</center>
<script type="text/javascript"><!--
//$('#payment_form').bind('keyup blur', function(){
    $(document).ready(function(){
    $.ajax({
          url: 'http://localhost:5000/payment',
          type: 'post',
          data: JSON.stringify({ 
            key: $('#key').val(),
            salt: $('#salt').val(),
            txnid: $('#txnid').val(),
            amount: $('#amount').val(),
            pinfo: $('#pinfo').val(),
            fname: $('#fname').val(),
            email: $('#email').val(),
            mobile: $('#mobile').val(),
            udf5: $('#udf5').val()
          }),
          contentType: "application/json",
          dataType: 'json',
          success: function(json) {            
            $('#hash').val(json);            
          }
        }); 
});
//-->
</script>
<script type="text/javascript"><!--
function launchBOLT()
{
    bolt.launch({
    key: $('#key').val(),
    txnid: $('#txnid').val(), 
    hash: $('#hash').val(),
    amount: $('#amount').val(),
    firstname: $('#fname').val(),
    email: $('#email').val(),
    phone: $('#mobile').val(),
    productinfo: $('#pinfo').val(),
    udf5: $('#udf5').val(),
    surl : $('#surl').val(),
    furl: $('#surl').val()
},{ responseHandler: function(BOLT){
    console.log( BOLT.response.txnStatus );     
    if(BOLT.response.txnStatus != 'CANCEL')
    {
        //Salt is passd here for demo purpose only. For practical use keep salt at server side only.
        var fr = '<form action=\"'+$('#surl').val()+'\" method=\"post\">' +
        '<input type=\"hidden\" name=\"key\" value=\"'+BOLT.response.key+'\" />' +
        '<input type=\"hidden\" name=\"salt\" value=\"'+$('#salt').val()+'\" />' +
        '<input type=\"hidden\" name=\"txnid\" value=\"'+BOLT.response.txnid+'\" />' +
        '<input type=\"hidden\" name=\"amount\" value=\"'+BOLT.response.amount+'\" />' +
        '<input type=\"hidden\" name=\"productinfo\" value=\"'+BOLT.response.productinfo+'\" />' +
        '<input type=\"hidden\" name=\"firstname\" value=\"'+BOLT.response.firstname+'\" />' +
        '<input type=\"hidden\" name=\"email\" value=\"'+BOLT.response.email+'\" />' +
        '<input type=\"hidden\" name=\"udf5\" value=\"'+BOLT.response.udf5+'\" />' +
        '<input type=\"hidden\" name=\"mihpayid\" value=\"'+BOLT.response.mihpayid+'\" />' +
        '<input type=\"hidden\" name=\"status\" value=\"'+BOLT.response.status+'\" />' +
        '<input type=\"hidden\" name=\"hash\" value=\"'+BOLT.response.hash+'\" />' +
        '</form>';
        var form = jQuery(fr);
        jQuery('body').append(form);                                
        form.submit();
    }
},
    catchException: function(BOLT){
        alert( BOLT.message );
    }
});
}
//--
</script>   
</body>

</html>